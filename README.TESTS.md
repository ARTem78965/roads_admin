# Система тестирования

В основе системы тестирования лежит методика TDD.

Необходимо соблюдать следующие принципы:

* Сначала тест, потом код.
* Тесты не зависят друг от друга.
* Каждый тест в отдельности выполняется успешно.
* Весь набор тестов выполняется успешно.
* Ошибка устраняется только после подтверждение её тестом.

Из-за специфики разработки приложения писать полноценные модульные (unit) тесты практически
бесмыссленно. По факту почти все тесты являются интеграционными.

## Соглашения при написании тестов

1. Тесты помещаются в папку `tests`, в корне проекта.
2. Файл `tests/__init__.py` создавать ОБЯЗАТЕЛЬНО, даже пустой. Его рекомендуется использовать для
   преднастройки системного окружения, в частности установки и переопределения переменных окружения.
3. Общий функционал выносится в фикстуры. Если необходимо передать параметры в фикстуру - делается
   фабрика-фикстура. Исключение - если нужны динамические данные при параметризации (см. пункт 6).
4. Фикстуры, генераторы последовательностей, общие переменные, общие функции хранить и импортировать
   из файла `tests/conftest.py`.
5. Имя фикстуры должно содержать префикс - `fx_`.
6. Строго ЗАПРЕЩЕНО использовать случайные или неконтролируемые данные в тестах. Если необходимы
   какие-либо переменные, которые набираются руками, например - Имя, e-mail, город. Следует
   использовать генераторы для создания последовательностей и добавлять порядковый номер в итоговую
   переменную.
